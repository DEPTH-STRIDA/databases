# Лабораторная работа №4: ORM в Go

## Цель работы
Изучение принципов работы с ORM на примере GORM и перенос существующего кода на использование ORM.

## Задание
1. Перевести код из лабораторной работы №3 на использование ORM
2. Реализовать модели данных с использованием GORM тегов
3. Создать связи между таблицами
4. Выполнить сложные запросы с использованием ORM

## Структура проекта

```
app/
├── models/
│   ├── teacher.go    # Модель преподавателя
│   └── lesson.go     # Модель урока
├── go.mod
├── go.sum
└── main.go          # Основной код программы
```

## Требования

### Подготовка окружения
- Go 1.22 или выше
- SQLite
- Зависимости:
  ```bash
  go mod init app
  go get gorm.io/gorm
  go get gorm.io/driver/sqlite
  ```

### Функциональные требования
1. Определение моделей данных:
   - Не менее 2 связанных таблиц
   - Поля различных типов (строки, числа, даты)
   - Корректные связи между моделями

2. Наполнение базы данных:
   - 20-30 тестовых записей
   - Реалистичные данные
   - Возможность группировки по категориям

3. Реализация запросов:
   - Базовые CRUD операции через ORM
   - Запросы со связями (joins)
   - Группировка и агрегация данных

## Этапы выполнения

### 1. Подготовка моделей
1. Определить структуры данных с GORM тегами
2. Настроить связи между моделями
3. Реализовать автоматическую миграцию

### 2. Работа с данными
1. Создать функции для генерации тестовых данных
2. Реализовать методы для работы с данными
3. Обеспечить целостность данных

### 3. Реализация запросов
1. Создать сложные запросы с использованием ORM
2. Реализовать группировку и подсчет
3. Продемонстрировать работу со связанными данными

## Примечания
- Использовать возможности GORM для валидации данных
- Обрабатывать ошибки и транзакции
- Оптимизировать запросы (preload, joins)
- Следовать принципам чистого кода
